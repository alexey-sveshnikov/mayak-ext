# Плагин для копирования содержимого корзины в Утконосе

Предназначен для того, чтобы быстро добавить в корзину товары, имея под рукой список ссылок на продукты.

Сделан на скорую руку в качестве временного решения, поэтому плагин характерен визуальной и функциональной аскетичностью ;)

Для Дома с Маяком.


# Как установить

1. Скачайте расширение [по этой ссылке](https://github.com/alexey-sveshnikov/utkonos-ext/archive/refs/heads/main.zip)
2. Распакуйте содержимое в любую директорию
2. Откройте [страницу расширений](chrome://extensions/) в chrome.
2. Включите "режим разработчика" (справа вверху)
3. Нажмите на кнопку "Загрузить распакованное расширение", и выберете папку `dist` в распакованном содержимом архива


# Как пользоваться

1. Если расширение загружено, то при открытии сайта utkonos.ru в верхнем правом углу появится иконка с маяком
2. Если иконка появилась, то можно открыть окошко плагина - с помощью клавиши `Escape` или клику по маяку. В окошко нужно вставить текст или таблицу со ссылками на продукты
3. После вставки текста нажмите "Добавить"
4. Чтобы закрыть окошко также нажмите `Escape` или кликните по маяку.

# Входные данные

В окошко плагина можно вставить все что угодно - текст, таблицу (пока только без картинок - вставить можно, но обработаны они не будут).

Есть два режима работы плагина:

1. Если вставлена таблица, то плагин сам определит где в ней ссылки на продукты а где количества.
Можно передавать таблицы в том числе с другими колонками (например номер строки, стоимость).

2. Если вставлено что-то другое, кроме таблицы (или таблица неподдерживаемого формата),
то плагин просто ищет все сслыки на товары и добавляет их в единичном экземпляре.

В обоих случаях ссылки можно передавать как текстом так и в html-формате (`http://utkonos.ru/item/....` или [ссылка на товар](https://www.utkonos.ru/item/2013197/banany-1-3-1-7-kg))


# На что обращать внимание

Могут быть два неприятных сценария:

1. Если какой-то товар закончился, то он просто не добавится в корзину (без сообщений об ошибке).
Поэтому нужно сверять общее количество товаров в заявке и в корзине.
2. Если данные из таблицы, и в ней что-то не так с форматом, то все товары добавятся в единичном экземпляре 
(есть только два варианта - либо все количества корректны, либо везде "1". Сломаться наполовину не может).
